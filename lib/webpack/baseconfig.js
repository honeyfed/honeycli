const path=require("path"),{VueLoaderPlugin}=require("vue-loader"),ProgressBarPlugin=require("progress-bar-webpack-plugin"),EslintWebpackPlugin=require("eslint-webpack-plugin"),{getEsLintOptions}=require("../lint/lint");function generateBasicWebpackConfig(a,b="production"){const c={mode:b,entry:path.resolve(a.src,a.entry),resolve:{extensions:[".js",".vue",".json"],alias:{"@":a.src}},resolveLoader:{modules:[path.resolve(__dirname,"../../node_modules")]},module:{rules:[{test:/\.js$/,loader:"babel-loader",options:{cwd:path.resolve(__dirname,"../../"),presets:[["@babel/preset-env",{useBuiltIns:"usage",corejs:3,targets:"> 0.25%, not dead"}]]},exclude:/node_modules/},{test:/\.vue$/,loader:"vue-loader"},{test:/\.css$/,use:["style-loader","css-loader"]},{test:/\.less$/,use:["style-loader","css-loader","less-loader"]},{test:/\.(ttf|woff)$/,use:[{loader:"url-loader",options:{name:"production"===b?"fonts/[name]-[hash:6].[ext]":"fonts/[name].[ext]",limit:8092,esModule:!1}}]},{test:/\.(gif|png|jpg|jpeg|svg)$/,use:[{loader:"url-loader",options:{name:"production"===b?"imgs/[name]-[hash:6].[ext]":"imgs/[name].[ext]",limit:8092,esModule:!1}}]}]},devtool:"production"===b?"none":"eval-source-map",plugins:[new VueLoaderPlugin,new ProgressBarPlugin,new EslintWebpackPlugin(getEsLintOptions())]};return c}module.exports={generateBasicWebpackConfig};