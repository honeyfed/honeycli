const fs=require("fs"),print=require("./print"),spawn=require("cross-spawn"),rmcb=require("rimraf"),util=require("util"),glob=require("glob");function makeGithubUrlForTbTemplate(a){return`https://github.com/honeyfed/template-${a}.git`}function loadJson(a){const b=fs.readFileSync(a,"utf-8");try{const a=JSON.parse(b);return a}catch(a){print.error(a)}return null}function readFile(a){return fs.readFileSync(a,"utf8")}function writeFile(a,b){fs.writeFileSync(a,b)}function isValidName(a){return /^[a-zA-Z0-9-_]+$/.test(a)}function doCmd(a,b,c={stdio:"inherit"}){return new Promise(d=>{const e=spawn(a,b,c);c.stdio?e.on("close",a=>{d({code:a})}):(e.stdout.on("data",a=>{d({data:a})}),e.stdout.on("close",a=>{d({data:a})}))})}const rm=util.promisify(rmcb);function getFiles(a){return new Promise((b,c)=>{glob(a,(a,d)=>{a?c(a):b(d)})})}module.exports={makeGithubUrlForTbTemplate,loadJson,isValidName,doCmd,rm,readFile,writeFile,getFiles};