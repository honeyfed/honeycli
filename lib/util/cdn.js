const COS=require("cos-nodejs-sdk-v5"),print=require("./print"),fs=require("fs");class CdnUploader{constructor(){}init(){return process.env.cdnId&&process.env.cdnKey?(this.cos=new COS({SecretId:process.env.cdnId,SecretKey:process.env.cdnKey}),!0):(print.error("\u8BF7\u5728\u73AF\u5883\u53D8\u91CF\u4E2D\u8BBE\u7F6EcdnId\u53CAcdnKey"),this.cos=null,!1)}uploadFile(a,b){// make filename
return new Promise((c,d)=>{this.cos.putObject({Bucket:"static-1258919571",Region:"ap-guangzhou",Key:`honeyfed/${a}`,Body:fs.readFileSync(b)},function(a,b){a?(print.error(a),d(a)):c(b)})})}}module.exports={CdnUploader};