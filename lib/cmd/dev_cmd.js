/**
 * This module is based on webpack. It provides development and deploy features.
 */const{doCmd,rm}=require("../util/utils"),print=require("../util/print"),{generateWebpackConfig}=require("../webpack/config"),{loadHoneyConfig}=require("../util/config"),webpack=require("webpack"),webpackDevServer=require("webpack-dev-server");async function devCmd(){try{await doCmd("npm i --save core-js@3"),await doCmd("npm i")}catch(a){print.error(a)}const a=loadHoneyConfig();try{//build
const b=generateWebpackConfig(a,"development"),c=new webpackDevServer(webpack(b),b.devServer);c.listen(a.dev.port,"0.0.0.0",()=>{print.info(`Starting server on http://localhost:${a.dev.port}`)})}catch(a){print.error(a)}}module.exports={devCmd};